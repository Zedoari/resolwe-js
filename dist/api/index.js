"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var base_1 = require("./base");
var auth_1 = require("./auth");
var rest_resource_1 = require("./resources/rest/rest_resource");
var collection_1 = require("./resources/rest/collection");
var sample_1 = require("./resources/rest/sample");
var data_1 = require("./resources/rest/data");
var descriptor_schema_1 = require("./resources/rest/descriptor_schema");
var user_1 = require("./resources/rest/user");
var file_1 = require("./resources/rest/file");
var storage_1 = require("./resources/rest/storage");
var knowledge_base_1 = require("./resources/modules/knowledge_base");
var ResolweApi = /** @class */ (function () {
    function ResolweApi(connection, restUri, websocketUri) {
        this.connection = connection;
        this.Base = new base_1.Base(this.connection);
        this.Auth = new auth_1.Auth(this.connection);
        // Resolwe resources.
        this.User = new user_1.UserResource(this.connection);
        this.Collection = new collection_1.CollectionResource(this.connection);
        this.Data = new data_1.DataResource(this.connection);
        this.Process = new rest_resource_1.RESTResource('process', this.connection);
        this.DescriptorSchema = new descriptor_schema_1.DescriptorSchemaResource(this.connection);
        this.Sample = new sample_1.SampleResource(this.connection);
        this.File = new file_1.FileResource(this.connection);
        this.Storage = new storage_1.StorageResource(this.connection);
        this.Relation = new rest_resource_1.RESTResource('relation', this.connection);
        this.KnowledgeBase = {
            Feature: new knowledge_base_1.FeatureResource(this.connection),
        };
        this.connect(restUri, websocketUri);
        this.Base.getCSRFCookie();
    }
    /**
     * Establishes a default connection with the genesis platform server.
     *
     * @param {string} uri Genesis platform server URI
     */
    ResolweApi.prototype.connect = function (restUri, websocketUri) {
        this.connection.connect(restUri, websocketUri);
    };
    return ResolweApi;
}());
exports.ResolweApi = ResolweApi;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hcGkvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSwrQkFBNEI7QUFDNUIsK0JBQTRCO0FBRTVCLGdFQUE0RDtBQUM1RCwwREFBK0Q7QUFDL0Qsa0RBQXVEO0FBQ3ZELDhDQUFtRDtBQUNuRCx3RUFBNEU7QUFDNUUsOENBQW1EO0FBQ25ELDhDQUFtRDtBQUNuRCxvREFBeUQ7QUFDekQscUVBQW1FO0FBSW5FO0lBbUJJLG9CQUFtQixVQUFzQixFQUFFLE9BQWUsRUFBRSxZQUFvQjtRQUE3RCxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBbEJsQyxTQUFJLEdBQVMsSUFBSSxXQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZDLFNBQUksR0FBUyxJQUFJLFdBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFOUMscUJBQXFCO1FBQ2QsU0FBSSxHQUFpQixJQUFJLG1CQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZELGVBQVUsR0FBdUIsSUFBSSwrQkFBa0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDekUsU0FBSSxHQUFpQixJQUFJLG1CQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZELFlBQU8sR0FBZ0MsSUFBSSw0QkFBWSxDQUFnQixTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ25HLHFCQUFnQixHQUE2QixJQUFJLDRDQUF3QixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMzRixXQUFNLEdBQW1CLElBQUksdUJBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0QsU0FBSSxHQUFpQixJQUFJLG1CQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZELFlBQU8sR0FBb0IsSUFBSSx5QkFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNoRSxhQUFRLEdBQWlDLElBQUksNEJBQVksQ0FBaUIsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUV2RyxrQkFBYSxHQUFHO1lBQ25CLE9BQU8sRUFBRSxJQUFJLGdDQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztTQUNoRCxDQUFDO1FBR0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFFcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNLLDRCQUFPLEdBQWYsVUFBZ0IsT0FBZSxFQUFFLFlBQW9CO1FBQ2pELElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQWpDQSxBQWlDQyxJQUFBO0FBakNZLGdDQUFVIiwiZmlsZSI6ImFwaS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29ubmVjdGlvbn0gZnJvbSAnLi9jb25uZWN0aW9uJztcbmltcG9ydCB7QmFzZX0gZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7QXV0aH0gZnJvbSAnLi9hdXRoJztcblxuaW1wb3J0IHtSRVNUUmVzb3VyY2V9IGZyb20gJy4vcmVzb3VyY2VzL3Jlc3QvcmVzdF9yZXNvdXJjZSc7XG5pbXBvcnQge0NvbGxlY3Rpb25SZXNvdXJjZX0gZnJvbSAnLi9yZXNvdXJjZXMvcmVzdC9jb2xsZWN0aW9uJztcbmltcG9ydCB7U2FtcGxlUmVzb3VyY2V9IGZyb20gJy4vcmVzb3VyY2VzL3Jlc3Qvc2FtcGxlJztcbmltcG9ydCB7RGF0YVJlc291cmNlfSBmcm9tICcuL3Jlc291cmNlcy9yZXN0L2RhdGEnO1xuaW1wb3J0IHtEZXNjcmlwdG9yU2NoZW1hUmVzb3VyY2V9IGZyb20gJy4vcmVzb3VyY2VzL3Jlc3QvZGVzY3JpcHRvcl9zY2hlbWEnO1xuaW1wb3J0IHtVc2VyUmVzb3VyY2V9IGZyb20gJy4vcmVzb3VyY2VzL3Jlc3QvdXNlcic7XG5pbXBvcnQge0ZpbGVSZXNvdXJjZX0gZnJvbSAnLi9yZXNvdXJjZXMvcmVzdC9maWxlJztcbmltcG9ydCB7U3RvcmFnZVJlc291cmNlfSBmcm9tICcuL3Jlc291cmNlcy9yZXN0L3N0b3JhZ2UnO1xuaW1wb3J0IHtGZWF0dXJlUmVzb3VyY2V9IGZyb20gJy4vcmVzb3VyY2VzL21vZHVsZXMva25vd2xlZGdlX2Jhc2UnO1xuXG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzL3Jlc3QnO1xuXG5leHBvcnQgY2xhc3MgUmVzb2x3ZUFwaSB7XG4gICAgcHVibGljIEJhc2U6IEJhc2UgPSBuZXcgQmFzZSh0aGlzLmNvbm5lY3Rpb24pO1xuICAgIHB1YmxpYyBBdXRoOiBBdXRoID0gbmV3IEF1dGgodGhpcy5jb25uZWN0aW9uKTtcblxuICAgIC8vIFJlc29sd2UgcmVzb3VyY2VzLlxuICAgIHB1YmxpYyBVc2VyOiBVc2VyUmVzb3VyY2UgPSBuZXcgVXNlclJlc291cmNlKHRoaXMuY29ubmVjdGlvbik7XG4gICAgcHVibGljIENvbGxlY3Rpb246IENvbGxlY3Rpb25SZXNvdXJjZSA9IG5ldyBDb2xsZWN0aW9uUmVzb3VyY2UodGhpcy5jb25uZWN0aW9uKTtcbiAgICBwdWJsaWMgRGF0YTogRGF0YVJlc291cmNlID0gbmV3IERhdGFSZXNvdXJjZSh0aGlzLmNvbm5lY3Rpb24pO1xuICAgIHB1YmxpYyBQcm9jZXNzOiBSRVNUUmVzb3VyY2U8dHlwZXMuUHJvY2Vzcz4gPSBuZXcgUkVTVFJlc291cmNlPHR5cGVzLlByb2Nlc3M+KCdwcm9jZXNzJywgdGhpcy5jb25uZWN0aW9uKTtcbiAgICBwdWJsaWMgRGVzY3JpcHRvclNjaGVtYTogRGVzY3JpcHRvclNjaGVtYVJlc291cmNlID0gbmV3IERlc2NyaXB0b3JTY2hlbWFSZXNvdXJjZSh0aGlzLmNvbm5lY3Rpb24pO1xuICAgIHB1YmxpYyBTYW1wbGU6IFNhbXBsZVJlc291cmNlID0gbmV3IFNhbXBsZVJlc291cmNlKHRoaXMuY29ubmVjdGlvbik7XG4gICAgcHVibGljIEZpbGU6IEZpbGVSZXNvdXJjZSA9IG5ldyBGaWxlUmVzb3VyY2UodGhpcy5jb25uZWN0aW9uKTtcbiAgICBwdWJsaWMgU3RvcmFnZTogU3RvcmFnZVJlc291cmNlID0gbmV3IFN0b3JhZ2VSZXNvdXJjZSh0aGlzLmNvbm5lY3Rpb24pO1xuICAgIHB1YmxpYyBSZWxhdGlvbjogUkVTVFJlc291cmNlPHR5cGVzLlJlbGF0aW9uPiA9IG5ldyBSRVNUUmVzb3VyY2U8dHlwZXMuUmVsYXRpb24+KCdyZWxhdGlvbicsIHRoaXMuY29ubmVjdGlvbik7XG5cbiAgICBwdWJsaWMgS25vd2xlZGdlQmFzZSA9IHtcbiAgICAgICAgRmVhdHVyZTogbmV3IEZlYXR1cmVSZXNvdXJjZSh0aGlzLmNvbm5lY3Rpb24pLFxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY29ubmVjdGlvbjogQ29ubmVjdGlvbiwgcmVzdFVyaTogc3RyaW5nLCB3ZWJzb2NrZXRVcmk6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbm5lY3QocmVzdFVyaSwgd2Vic29ja2V0VXJpKTtcblxuICAgICAgICB0aGlzLkJhc2UuZ2V0Q1NSRkNvb2tpZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzdGFibGlzaGVzIGEgZGVmYXVsdCBjb25uZWN0aW9uIHdpdGggdGhlIGdlbmVzaXMgcGxhdGZvcm0gc2VydmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVyaSBHZW5lc2lzIHBsYXRmb3JtIHNlcnZlciBVUklcbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbm5lY3QocmVzdFVyaTogc3RyaW5nLCB3ZWJzb2NrZXRVcmk6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uY29ubmVjdChyZXN0VXJpLCB3ZWJzb2NrZXRVcmkpO1xuICAgIH1cbn1cbiJdfQ==
